<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidenav">
    <h3 class="logo">Admin Panel</h3>
    <a (click)="showPage('dashboard')">Dashboard</a>
    <a (click)="showPage('students')">Students</a>
    <a (click)="showPage('trainers')">Trainers</a>
    <a (click)="showPage('reports')">Reports</a>
  <a (click)="showPage('media')">Media</a>
  </div>

  <!-- Main Content -->
  <div class="main">
    <!-- Top Navbar -->
    <div class="toolbar">
      <span class="title">Admin Dashboard</span>
      <div class="spacer"></div>
      <button (click)="logout()">Logout</button>
    </div>

    <!-- Page Content -->
    <div class="content">
      <!-- Dashboard Page -->
      <div *ngIf="activePage === 'dashboard'">
        <h2>Welcome, Admin ðŸ‘‹</h2>
        <p>Here you can manage users, view reports, and update settings.</p>
        <div class="cards">
          <div class="card">
            <h3>Total Users</h3>
            <p>{{ studentCount }}</p>
          </div>
          <div class="card">
            <h3>Active Trainers</h3>
            <p>{{ trainerCount }}</p>
          </div>
          <div class="card">
            <h3>Reports</h3>
            <p>{{ reports }}</p>
          </div>
        </div>
      </div>

      <!-- Students Page -->
      <div *ngIf="activePage === 'students'">
        <h3>Student Section</h3>
        <button class="add-btn" (click)="toggleStudentView('list')">Student List</button>
        <button class="add-btn" (click)="toggleStudentView('create')">Add Student</button>

        <div *ngIf="studentView === 'list'">
          <app-student-list></app-student-list>
        </div>
        <div *ngIf="studentView === 'create'">
          <app-student-create></app-student-create>
        </div>
      </div>



      <div *ngIf="activePage === 'trainers'">
        <h3>Trainer Section</h3>

        <!-- Toggle buttons -->
        <button class="add-btn" (click)="toggleTrainerView('list')">Trainer List</button>
        <button class="add-btn" (click)="toggleTrainerView('create')">Add Trainer</button>

        <!-- Trainer List -->
        <div *ngIf="trainerView === 'list'">
          <app-trainer-list></app-trainer-list>
        </div>

        <!-- Trainer Create -->
        <div *ngIf="trainerView === 'create'">
          <app-trainer-create (formClosed)="toggleTrainerView('list')"></app-trainer-create>
        </div>
      </div>


      <!-- Reports Page -->
      <div *ngIf="activePage === 'reports'">
        <h3>Reports Section</h3>
        <p>Reports data goes here.</p>
      </div>

      <!-- Media Page -->
      <div *ngIf="activePage === 'media'">
  <h3>Media Section</h3>
  <button class="add-btn" (click)="showMediaUpload = true">Add Media</button>

  <div *ngIf="showMediaUpload" class="media-upload-modal">
    <h4>Upload Media</h4>
    <input type="file" accept="video/*,audio/*,image/*" (change)="onMediaSelected($event)" multiple />
    <button class="btn" (click)="uploadMedia()" [disabled]="!uploadedMediaFiles.length">Upload</button>
    <button class="btn" (click)="showMediaUpload = false">Cancel</button>
  </div>

  <div class="media-section">
    <h3>Uploaded Media</h3>
    <ul>
      <li *ngFor="let media of mediaList">
        <img [src]="media.url" width="150" height="150" alt="Media"/>
        <span>{{ media.filename }}</span>
      </li>
    </ul>
  </div>
</div>

      </div>
    </div>
  </div>